### 📘 8장 파일처리 및 전처리

---

#### 🔹 파일 입출력 기본

- **파일 포인터 선언**: `FILE *fp;`
- **파일 열기**: `fopen("파일경로", "w" 또는 "r")`
- **쓰기**: `fprintf(fp, ...)`, `fputs(str, fp)`
- **읽기**: `fscanf(fp, ...)`, `fgets(str, fp)`
- **닫기**: `fclose(fp);`

📌 파일이 없을 경우 `fopen`은 `NULL`을 반환하며, 오류 처리를 해야 함.

---

#### 🔹 문자열과 숫자 처리

- 텍스트 파일에 문자열 저장: `fputs("문자열", fp)`
- 문자열 읽기: `fgets(변수, fp)`
- 숫자 저장/읽기: `fprintf`, `fscanf` 활용

---

#### 🔹 이진 파일 처리

- 바이너리 모드 열기: `"wb"`, `"rb"`
- **쓰기**: `fwrite(데이터주소, 크기, 개수, fp)`
- **읽기**: `fread(저장변수주소, 크기, 개수, fp)`
- 메모장 등으로는 읽기 불가 (이진 데이터라서)

---

#### 🔹 전처리기

- **상수 정의**: `#define PI 3.14`
- **헤더파일 포함**:  
  - 시스템 헤더: `#include <stdio.h>`
  - 사용자 정의 헤더: `#include "myfile.h"`
- **상수 해제**: `#undef`
- **조건부 컴파일**: `#ifdef`, `#ifndef`, `#endif`, `#else`, `#elif`

---

#### 🔹 매크로 함수

- **정의**: `#define SQUARE(x) ((x)*(x))`
- **장점**: 일반 함수보다 빠름 (전처리 시 코드 치환)
- **주의**: 괄호 없이 정의하면 오류 발생 가능

예:
```c
#define MAX(a,b) ((a) > (b) ? (a) : (b))
```

---

### ✅ 요약

- 파일을 열고(`fopen`) 쓰고(`fprintf`, `fputs`), 읽고(`fscanf`, `fgets`) 닫는다(`fclose`)
- 이진 파일은 `fread`, `fwrite` 사용
- 전처리기 `#define`, `#include`, `#ifdef` 등으로 컴파일 전 처리 가능
- 매크로 함수는 속도가 빠르며 반복적인 작업에 효율적임
